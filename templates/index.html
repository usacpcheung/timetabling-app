<!-- Home page providing quick links and forms -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Timetabling App</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css">
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="max-w-xl mx-auto mt-10 p-6 bg-white rounded-xl shadow">
        <h1 class="text-2xl font-semibold mb-4 text-center">Welcome to the Timetabling App</h1>
        <ul class="flex justify-center space-x-4 mb-6">
            <li><a class="text-blue-600 hover:underline" href="{{ url_for('config') }}">Edit Configuration</a></li>
            <li><a class="text-blue-600 hover:underline" href="{{ url_for('attendance') }}">View Attendance</a></li>
            <li><a class="text-blue-600 hover:underline" href="{{ url_for('manage_timetables') }}">Manage Timetables</a></li>
        </ul>
        <form id="generate-form" action="{{ url_for('generate') }}" method="post" data-check-url="{{ url_for('check_timetable') }}" class="mb-4">
            <label class="block mb-2">Date:
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none">
                        <svg aria-hidden="true" class="w-4 h-4 text-gray-500 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20"><path d="M6 2a1 1 0 011 1v1h6V3a1 1 0 112 0v1h1a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V6a2 2 0 012-2h1V3a1 1 0 011-1z"/><path d="M3 8h14v9H3V8z"/></svg>
                    </div>
                    <input datepicker datepicker-format="yyyy-mm-dd" datepicker-autohide="true" id="generate-date" class="border border-gray-300 rounded-lg block w-full pl-10 p-2.5" type="text" name="date" value="{{ today }}" placeholder="Select date">
                </div>
            </label>
            <button type="submit" class="w-full bg-blue-500 text-white border rounded-md px-3 py-2 hover:bg-blue-600 transition">Generate Timetable</button>
        </form>
        <form action="{{ url_for('timetable') }}" method="get" class="mb-2">
            <label class="block mb-2">Date:
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none">
                        <svg aria-hidden="true" class="w-4 h-4 text-gray-500 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20"><path d="M6 2a1 1 0 011 1v1h6V3a1 1 0 112 0v1h1a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V6a2 2 0 012-2h1V3a1 1 0 011-1z"/><path d="M3 8h14v9H3V8z"/></svg>
                    </div>
                    <input datepicker datepicker-format="yyyy-mm-dd" datepicker-autohide="true" id="view-date" class="border border-gray-300 rounded-lg block w-full pl-10 p-2.5" type="text" name="date" value="{{ today }}" placeholder="Select date">
                </div>
            </label>
            <button type="submit" class="w-full bg-green-500 text-white border rounded-md px-3 py-2 hover:bg-green-600 transition">View Timetable</button>
        </form>
        <!-- Form posts to /generate; JavaScript warns if a timetable already exists -->
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/datepicker.min.js"></script>
    <script src="{{ url_for('static', filename='ui.js') }}"></script>
    <script src="{{ url_for('static', filename='main.js') }}"></script>
</body>
</html>
